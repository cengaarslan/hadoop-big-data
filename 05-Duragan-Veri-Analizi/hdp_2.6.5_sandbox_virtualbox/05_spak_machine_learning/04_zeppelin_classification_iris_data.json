{"paragraphs":[{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558206934_-1537360001","id":"20190719-174326_75327095","dateCreated":"2019-07-19T17:43:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:20694","text":"%pyspark\ndf = spark.read.format(\"csv\") \\\n.option(\"header\", True) \\\n.option(\"sep\", \",\") \\\n.option(\"inferSchema\", True) \\\n.load(\"/user/erkan/iris.csv\")","dateUpdated":"2019-07-19T17:54:57+0000","dateFinished":"2019-07-19T17:54:57+0000","dateStarted":"2019-07-19T17:54:57+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%pyspark\ndf.show(3)","user":"anonymous","dateUpdated":"2019-07-19T17:55:00+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558346843_704634781","id":"20190719-174546_1720834179","dateCreated":"2019-07-19T17:45:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21104","dateFinished":"2019-07-19T17:55:00+0000","dateStarted":"2019-07-19T17:55:00+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------------+------------+-------------+------------+-----------+\n|SepalLengthCm|SepalWidthCm|PetalLengthCm|PetalWidthCm|    Species|\n+-------------+------------+-------------+------------+-----------+\n|          5.1|         3.5|          1.4|         0.2|Iris-setosa|\n|          4.9|         3.0|          1.4|         0.2|Iris-setosa|\n|          4.7|         3.2|          1.3|         0.2|Iris-setosa|\n+-------------+------------+-------------+------------+-----------+\nonly showing top 3 rows\n\n"}]}},{"text":"%pyspark\nnumerik_nitelikler = [\"SepalLengthCm\",\"SepalWidthCm\",\"PetalLengthCm\",\"PetalWidthCm\"]\nlabel = [\"label\"]","user":"anonymous","dateUpdated":"2019-07-19T17:55:03+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558555121_858994066","id":"20190719-174915_1134069124","dateCreated":"2019-07-19T17:49:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22288","dateFinished":"2019-07-19T17:55:03+0000","dateStarted":"2019-07-19T17:55:03+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Veri hazırlığı\n\nKategorik nitelik yok, boşluk yok, aykırı değer yok","user":"anonymous","dateUpdated":"2019-07-19T17:48:49+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558501286_53037066","id":"20190719-174821_103623456","dateCreated":"2019-07-19T17:48:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21746","dateFinished":"2019-07-19T17:48:49+0000","dateStarted":"2019-07-19T17:48:49+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Veri hazırlığı</h2>\n<p>Kategorik nitelik yok, boşluk yok, aykırı değer yok</p>\n"}]}},{"text":"%pyspark\n# girdi nitelikleri VectorAssembler ile tek bir vektör altında toplama\nfrom pyspark.ml.feature import VectorAssembler\nvector_assembler = VectorAssembler().setInputCols(numerik_nitelikler).setOutputCol(\"features\")","user":"anonymous","dateUpdated":"2019-07-19T17:55:06+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558522635_1473575977","id":"20190719-174842_841241540","dateCreated":"2019-07-19T17:48:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22219","dateFinished":"2019-07-19T17:55:06+0000","dateStarted":"2019-07-19T17:55:06+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Hedef değişkeni (label) nümerik hale getirme","user":"anonymous","dateUpdated":"2019-07-19T17:53:04+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558756730_36475894","id":"20190719-175236_959540643","dateCreated":"2019-07-19T17:52:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22783","dateFinished":"2019-07-19T17:53:04+0000","dateStarted":"2019-07-19T17:53:04+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Hedef değişkeni (label) nümerik hale getirme</h2>\n"}]}},{"text":"%pyspark\nfrom pyspark.ml.feature import StringIndexer\nindexer_label = StringIndexer().setInputCol(\"Species\").setOutputCol(\"label\")","user":"anonymous","dateUpdated":"2019-07-19T17:55:11+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558788285_1113418714","id":"20190719-175308_1429316206","dateCreated":"2019-07-19T17:53:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22852","dateFinished":"2019-07-19T17:55:11+0000","dateStarted":"2019-07-19T17:55:11+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Model","user":"anonymous","dateUpdated":"2019-07-19T17:49:59+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558522175_1662872436","id":"20190719-174842_1760880861","dateCreated":"2019-07-19T17:48:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22163","dateFinished":"2019-07-19T17:49:59+0000","dateStarted":"2019-07-19T17:49:59+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model</h2>\n"}]}},{"text":"%pyspark\nfrom pyspark.ml.classification import LogisticRegression\nlr_obj = LogisticRegression().setFeaturesCol(\"features\").setLabelCol(\"label\")","user":"anonymous","dateUpdated":"2019-07-19T17:55:19+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558521731_1919884702","id":"20190719-174841_1792206156","dateCreated":"2019-07-19T17:48:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22107","dateFinished":"2019-07-19T17:55:19+0000","dateStarted":"2019-07-19T17:55:19+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Pipeline","user":"anonymous","dateUpdated":"2019-07-19T17:51:08+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558521280_2091867460","id":"20190719-174841_230797332","dateCreated":"2019-07-19T17:48:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22051","dateFinished":"2019-07-19T17:51:08+0000","dateStarted":"2019-07-19T17:51:08+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Pipeline</h2>\n"}]}},{"text":"%pyspark\nfrom pyspark.ml import Pipeline\npipeline_obj = Pipeline().setStages([vector_assembler, indexer_label, lr_obj])","user":"anonymous","dateUpdated":"2019-07-19T17:55:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558520853_1972980050","id":"20190719-174840_1590226980","dateCreated":"2019-07-19T17:48:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21995","dateFinished":"2019-07-19T17:55:32+0000","dateStarted":"2019-07-19T17:55:32+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Veri Setini Ayırma","user":"anonymous","dateUpdated":"2019-07-19T17:51:31+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558520431_548639622","id":"20190719-174840_1429789607","dateCreated":"2019-07-19T17:48:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21939","dateFinished":"2019-07-19T17:51:31+0000","dateStarted":"2019-07-19T17:51:31+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Veri Setini Ayırma</h2>\n"}]}},{"text":"%pyspark\ntrain_df, test_df = df.randomSplit([0.8, 0.2], seed=142)","user":"anonymous","dateUpdated":"2019-07-19T17:55:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558520206_930695279","id":"20190719-174840_163255046","dateCreated":"2019-07-19T17:48:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21883","dateFinished":"2019-07-19T17:55:39+0000","dateStarted":"2019-07-19T17:55:39+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Modeli Eğitme","user":"anonymous","dateUpdated":"2019-07-19T17:52:13+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558519773_1108064522","id":"20190719-174839_1480571730","dateCreated":"2019-07-19T17:48:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21827","dateFinished":"2019-07-19T17:52:13+0000","dateStarted":"2019-07-19T17:52:13+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Modeli Eğitme</h2>\n"}]}},{"text":"%pyspark\npipeline_model = pipeline_obj.fit(train_df)","user":"anonymous","dateUpdated":"2019-07-19T17:55:44+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558698640_-1940672082","id":"20190719-175138_791536874","dateCreated":"2019-07-19T17:51:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22684","dateFinished":"2019-07-19T17:55:52+0000","dateStarted":"2019-07-19T17:55:44+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n## Test verisi ile tahmin yapma\n","user":"anonymous","dateUpdated":"2019-07-19T17:57:02+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558698101_-1831788144","id":"20190719-175138_2027401278","dateCreated":"2019-07-19T17:51:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22628","dateFinished":"2019-07-19T17:57:02+0000","dateStarted":"2019-07-19T17:57:02+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Test verisi ile tahmin yapma</h2>\n"}]}},{"text":"%pyspark\npipeline_transformed_df = pipeline_model.transform(test_df)\n\nz.show(pipeline_transformed_df.limit(5))","user":"anonymous","dateUpdated":"2019-07-19T17:57:53+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558697660_-1563618160","id":"20190719-175137_1366441773","dateCreated":"2019-07-19T17:51:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22572","dateFinished":"2019-07-19T17:57:53+0000","dateStarted":"2019-07-19T17:57:53+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"SepalLengthCm\tSepalWidthCm\tPetalLengthCm\tPetalWidthCm\tSpecies\tfeatures\tlabel\trawPrediction\tprobability\tprediction\n4.4\t3.0\t1.3\t0.2\tIris-setosa\t[4.4,3.0,1.3,0.2]\t1.0\t[-8034.31978810088,43578.58558960017,-35544.26580149929]\t[0.0,1.0,0.0]\t1.0\n4.6\t3.1\t1.5\t0.2\tIris-setosa\t[4.6,3.1,1.5,0.2]\t1.0\t[-8259.61811048481,43665.24219881006,-35405.62408832526]\t[0.0,1.0,0.0]\t1.0\n4.6\t3.6\t1.0\t0.2\tIris-setosa\t[4.6,3.6,1.0,0.2]\t1.0\t[-15250.24922469057,60711.41557634419,-45461.16635165363]\t[0.0,1.0,0.0]\t1.0\n4.7\t3.2\t1.3\t0.2\tIris-setosa\t[4.7,3.2,1.3,0.2]\t1.0\t[-9496.308856458692,47204.22172508823,-37707.91286862955]\t[0.0,1.0,0.0]\t1.0\n4.9\t2.4\t3.3\t1.0\tIris-versicolor\t[4.9,2.4,3.3,1.0]\t0.0\t[7092.816225843056,-3070.934902258162,-4021.8813235848975]\t[1.0,0.0,0.0]\t0.0\n"}]}},{"text":"%md\n## Model Değerlendirme","user":"anonymous","dateUpdated":"2019-07-19T17:58:15+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558695082_2136527336","id":"20190719-175135_7205405","dateCreated":"2019-07-19T17:51:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22516","dateFinished":"2019-07-19T17:58:15+0000","dateStarted":"2019-07-19T17:58:15+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Değerlendirme</h2>\n"}]}},{"text":"%pyspark\nfrom pyspark.ml.evaluation import MulticlassClassificationEvaluator","user":"anonymous","dateUpdated":"2019-07-19T17:59:16+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558695022_2061116552","id":"20190719-175135_1705415008","dateCreated":"2019-07-19T17:51:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22460","dateFinished":"2019-07-19T17:59:16+0000","dateStarted":"2019-07-19T17:59:16+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%pyspark\nevaluator = MulticlassClassificationEvaluator(predictionCol=\"prediction\")","user":"anonymous","dateUpdated":"2019-07-19T17:59:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563558694596_746044811","id":"20190719-175134_1356028611","dateCreated":"2019-07-19T17:51:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:22404","dateFinished":"2019-07-19T17:59:39+0000","dateStarted":"2019-07-19T17:59:39+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%pyspark\nevaluator.evaluate(pipeline_transformed_df, {evaluator.metricName: \"accuracy\"})","user":"anonymous","dateUpdated":"2019-07-19T18:00:44+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563559179380_1941769940","id":"20190719-175939_376719113","dateCreated":"2019-07-19T17:59:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:23061","dateFinished":"2019-07-19T18:00:44+0000","dateStarted":"2019-07-19T18:00:44+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.9393939393939394\n"}]}},{"text":"%pyspark\n","user":"anonymous","dateUpdated":"2019-07-19T18:00:24+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1563559224623_2078199269","id":"20190719-180024_700282787","dateCreated":"2019-07-19T18:00:24+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:23117"}],"name":"big-data/05-Duragan-Veri-Analizi/05_spak_machine_learning/04_classification_with_iris_data","id":"2EGGFNRQU","angularObjects":{"2CHS8UYQQ:shared_process":[],"2C8A4SZ9T_livy2:shared_process":[],"2CK8A9MEG:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2CKAY1A8Y:shared_process":[],"2CKEKWY8Z:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}